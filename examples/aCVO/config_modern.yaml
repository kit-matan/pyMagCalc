# Modern Configuration for aCVO (H=20T)
# Generated by script based on spin_model_hc.py logic

# 1. Structure
crystal_structure:
  dimensionality: 3
  lattice_parameters:
    a: 20.645
    b: 8.383
    c: 6.442
    alpha: 90.0
    beta: 90.0
    gamma: 90.0
  atoms_uc: # expressed in fractional coordinates
    - label: Cu0
      pos: [0.165720, 0.364600, 0.754500]
      spin_S: 0.5
    - label: Cu1
      pos: [0.834280, 0.635400, 0.754500]
      spin_S: 0.5
    - label: Cu2
      pos: [0.165720, 0.864600, 0.254500]
      spin_S: 0.5
    - label: Cu3
      pos: [0.834280, 0.135400, 0.254500]
      spin_S: 0.5
    - label: Cu4
      pos: [0.665720, 0.364600, 0.254500]
      spin_S: 0.5
    - label: Cu5
      pos: [0.334280, 0.635400, 0.254500]
      spin_S: 0.5
    - label: Cu6
      pos: [0.665720, 0.864600, 0.754500]
      spin_S: 0.5
    - label: Cu7
      pos: [0.334280, 0.135400, 0.754500]
      spin_S: 0.5
    - label: Cu8
      pos: [0.415720, 0.885400, 1.004500]
      spin_S: 0.5
    - label: Cu9
      pos: [0.084280, 0.614600, 1.004500]
      spin_S: 0.5
    - label: Cu10
      pos: [0.415720, 0.385400, 0.504500]
      spin_S: 0.5
    - label: Cu11
      pos: [0.084280, 1.114600, 0.504500]
      spin_S: 0.5
    - label: Cu12
      pos: [0.915720, 0.885400, 0.504500]
      spin_S: 0.5
    - label: Cu13
      pos: [0.584280, 0.614600, 0.504500]
      spin_S: 0.5
    - label: Cu14
      pos: [0.915720, 0.385400, 1.004500]
      spin_S: 0.5
    - label: Cu15
      pos: [0.584280, 0.114600, 1.004500]
      spin_S: 0.5
  magnetic_elements: ["Cu"]

# 2. Parameters
parameters:
  J1: 2.49
  J2: 2.7888000000000006
  J3: 5.0546999999999995
  G1: 0.28
  Dx: 2.67
  H_dir: [0.0, 0.0, 1.0] # Field Direction (H//c)
  H_mag: 20.0 # Field Magnitude
  S: 0.5

# 3. Minimization
minimization:
  num_starts: 1000
  n_workers: 8 # Increase if you have more cores
  early_stopping: 10 # Stop if the same minimum is found 20 times
  method: "L-BFGS-B"
      
# 3. Interactions
interactions:
  - type: heisenberg
    pair: [Cu0, Cu5]
    distance: 5.2572
    value: "J3"
  - type: heisenberg
    pair: [Cu0, Cu7]
    distance: 3.9751
    value: "J2"
  - type: heisenberg
    pair: [Cu0, Cu9]
    distance: 3.1325
    value: "J1"
  - type: anisotropic_exchange
    pair: [Cu0, Cu9]
    distance: 3.1325
    value: ["G1", "-G1", "-G1"]
  - type: dm_manual
    atom_i: 0
    atom_j: 9
    offset_j: [0, 0, 0]
    value: [-2.67, 0.0, 0.0]
  - type: heisenberg
    pair: [Cu0, Cu11]
    distance: 3.1325
    value: "J1"
  - type: anisotropic_exchange
    pair: [Cu0, Cu11]
    distance: 3.1325
    value: ["G1", "-G1", "-G1"]
  - type: dm_manual
    atom_i: 0
    atom_j: 11
    offset_j: [0, -1, 0]
    value: [2.67, 0.0, 0.0]
  - type: heisenberg
    pair: [Cu1, Cu4]
    distance: 5.2572
    value: "J3"
  - type: heisenberg
    pair: [Cu1, Cu6]
    distance: 3.9751
    value: "J2"
  - type: heisenberg
    pair: [Cu1, Cu12]
    distance: 3.1325
    value: "J1"
  - type: anisotropic_exchange
    pair: [Cu1, Cu12]
    distance: 3.1325
    value: ["G1", "-G1", "-G1"]
  - type: dm_manual
    atom_i: 1
    atom_j: 12
    offset_j: [0, 0, 0]
    value: [-2.67, 0.0, 0.0]
  - type: heisenberg
    pair: [Cu1, Cu14]
    distance: 3.1325
    value: "J1"
  - type: anisotropic_exchange
    pair: [Cu1, Cu14]
    distance: 3.1325
    value: ["G1", "-G1", "-G1"]
  - type: dm_manual
    atom_i: 1
    atom_j: 14
    offset_j: [0, 0, 0]
    value: [2.67, 0.0, 0.0]
  - type: heisenberg
    pair: [Cu2, Cu5]
    distance: 3.9751
    value: "J2"
  - type: heisenberg
    pair: [Cu2, Cu11]
    distance: 3.1325
    value: "J1"
  - type: anisotropic_exchange
    pair: [Cu2, Cu11]
    distance: 3.1325
    value: ["G1", "-G1", "-G1"]
  - type: dm_manual
    atom_i: 2
    atom_j: 11
    offset_j: [0, 0, 0]
    value: [-2.67, 0.0, 0.0]
  - type: heisenberg
    pair: [Cu2, Cu9]
    distance: 3.1325
    value: "J1"
  - type: anisotropic_exchange
    pair: [Cu2, Cu9]
    distance: 3.1325
    value: ["G1", "-G1", "-G1"]
  - type: dm_manual
    atom_i: 2
    atom_j: 9
    offset_j: [0, 0, -1]
    value: [2.67, 0.0, 0.0]
  - type: heisenberg
    pair: [Cu2, Cu7]
    distance: 5.2572
    value: "J3"
  - type: heisenberg
    pair: [Cu3, Cu4]
    distance: 3.9751
    value: "J2"
  - type: heisenberg
    pair: [Cu3, Cu6]
    distance: 5.2572
    value: "J3"
  - type: heisenberg
    pair: [Cu3, Cu12]
    distance: 3.1325
    value: "J1"
  - type: anisotropic_exchange
    pair: [Cu3, Cu12]
    distance: 3.1325
    value: ["G1", "-G1", "-G1"]
  - type: dm_manual
    atom_i: 3
    atom_j: 12
    offset_j: [0, -1, 0]
    value: [2.67, 0.0, 0.0]
  - type: heisenberg
    pair: [Cu3, Cu14]
    distance: 3.1325
    value: "J1"
  - type: anisotropic_exchange
    pair: [Cu3, Cu14]
    distance: 3.1325
    value: ["G1", "-G1", "-G1"]
  - type: dm_manual
    atom_i: 3
    atom_j: 14
    offset_j: [0, 0, -1]
    value: [-2.67, 0.0, 0.0]
  - type: heisenberg
    pair: [Cu4, Cu1]
    distance: 5.2572
    value: "J3"
  - type: heisenberg
    pair: [Cu4, Cu3]
    distance: 3.9751
    value: "J2"
  - type: heisenberg
    pair: [Cu4, Cu13]
    distance: 3.1325
    value: "J1"
  - type: anisotropic_exchange
    pair: [Cu4, Cu13]
    distance: 3.1325
    value: ["G1", "-G1", "-G1"]
  - type: dm_manual
    atom_i: 4
    atom_j: 13
    offset_j: [0, 0, 0]
    value: [-2.67, 0.0, 0.0]
  - type: heisenberg
    pair: [Cu4, Cu15]
    distance: 3.1325
    value: "J1"
  - type: anisotropic_exchange
    pair: [Cu4, Cu15]
    distance: 3.1325
    value: ["G1", "-G1", "-G1"]
  - type: dm_manual
    atom_i: 4
    atom_j: 15
    offset_j: [0, 0, -1]
    value: [2.67, 0.0, 0.0]
  - type: heisenberg
    pair: [Cu5, Cu0]
    distance: 5.2572
    value: "J3"
  - type: heisenberg
    pair: [Cu5, Cu2]
    distance: 3.9751
    value: "J2"
  - type: heisenberg
    pair: [Cu5, Cu10]
    distance: 3.1325
    value: "J1"
  - type: anisotropic_exchange
    pair: [Cu5, Cu10]
    distance: 3.1325
    value: ["G1", "-G1", "-G1"]
  - type: dm_manual
    atom_i: 5
    atom_j: 10
    offset_j: [0, 0, 0]
    value: [2.67, 0.0, 0.0]
  - type: heisenberg
    pair: [Cu5, Cu8]
    distance: 3.1325
    value: "J1"
  - type: anisotropic_exchange
    pair: [Cu5, Cu8]
    distance: 3.1325
    value: ["G1", "-G1", "-G1"]
  - type: dm_manual
    atom_i: 5
    atom_j: 8
    offset_j: [0, 0, -1]
    value: [-2.67, 0.0, 0.0]
  - type: heisenberg
    pair: [Cu6, Cu1]
    distance: 3.9751
    value: "J2"
  - type: heisenberg
    pair: [Cu6, Cu13]
    distance: 3.1325
    value: "J1"
  - type: anisotropic_exchange
    pair: [Cu6, Cu13]
    distance: 3.1325
    value: ["G1", "-G1", "-G1"]
  - type: dm_manual
    atom_i: 6
    atom_j: 13
    offset_j: [0, 0, 0]
    value: [2.67, 0.0, 0.0]
  - type: heisenberg
    pair: [Cu6, Cu3]
    distance: 5.2572
    value: "J3"
  - type: heisenberg
    pair: [Cu6, Cu15]
    distance: 3.1325
    value: "J1"
  - type: anisotropic_exchange
    pair: [Cu6, Cu15]
    distance: 3.1325
    value: ["G1", "-G1", "-G1"]
  - type: dm_manual
    atom_i: 6
    atom_j: 15
    offset_j: [0, 1, 0]
    value: [-2.67, 0.0, 0.0]
  - type: heisenberg
    pair: [Cu7, Cu0]
    distance: 3.9751
    value: "J2"
  - type: heisenberg
    pair: [Cu7, Cu10]
    distance: 3.1325
    value: "J1"
  - type: anisotropic_exchange
    pair: [Cu7, Cu10]
    distance: 3.1325
    value: ["G1", "-G1", "-G1"]
  - type: dm_manual
    atom_i: 7
    atom_j: 10
    offset_j: [0, 0, 0]
    value: [-2.67, 0.0, 0.0]
  - type: heisenberg
    pair: [Cu7, Cu2]
    distance: 5.2572
    value: "J3"
  - type: heisenberg
    pair: [Cu7, Cu8]
    distance: 3.1325
    value: "J1"
  - type: anisotropic_exchange
    pair: [Cu7, Cu8]
    distance: 3.1325
    value: ["G1", "-G1", "-G1"]
  - type: dm_manual
    atom_i: 7
    atom_j: 8
    offset_j: [0, -1, 0]
    value: [2.67, 0.0, 0.0]
  - type: heisenberg
    pair: [Cu8, Cu13]
    distance: 5.2572
    value: "J3"
  - type: heisenberg
    pair: [Cu8, Cu5]
    distance: 3.1325
    value: "J1"
  - type: anisotropic_exchange
    pair: [Cu8, Cu5]
    distance: 3.1325
    value: ["G1", "-G1", "-G1"]
  - type: dm_manual
    atom_i: 8
    atom_j: 5
    offset_j: [0, 0, 1]
    value: [2.67, 0.0, 0.0]
  - type: heisenberg
    pair: [Cu8, Cu7]
    distance: 3.1325
    value: "J1"
  - type: anisotropic_exchange
    pair: [Cu8, Cu7]
    distance: 3.1325
    value: ["G1", "-G1", "-G1"]
  - type: dm_manual
    atom_i: 8
    atom_j: 7
    offset_j: [0, 1, 0]
    value: [-2.67, 0.0, 0.0]
  - type: heisenberg
    pair: [Cu8, Cu15]
    distance: 3.9751
    value: "J2"
  - type: heisenberg
    pair: [Cu9, Cu0]
    distance: 3.1325
    value: "J1"
  - type: anisotropic_exchange
    pair: [Cu9, Cu0]
    distance: 3.1325
    value: ["G1", "-G1", "-G1"]
  - type: dm_manual
    atom_i: 9
    atom_j: 0
    offset_j: [0, 0, 0]
    value: [2.67, 0.0, 0.0]
  - type: heisenberg
    pair: [Cu9, Cu12]
    distance: 5.2572
    value: "J3"
  - type: heisenberg
    pair: [Cu9, Cu14]
    distance: 3.9751
    value: "J2"
  - type: heisenberg
    pair: [Cu9, Cu2]
    distance: 3.1325
    value: "J1"
  - type: anisotropic_exchange
    pair: [Cu9, Cu2]
    distance: 3.1325
    value: ["G1", "-G1", "-G1"]
  - type: dm_manual
    atom_i: 9
    atom_j: 2
    offset_j: [0, 0, 1]
    value: [-2.67, 0.0, 0.0]
  - type: heisenberg
    pair: [Cu10, Cu5]
    distance: 3.1325
    value: "J1"
  - type: anisotropic_exchange
    pair: [Cu10, Cu5]
    distance: 3.1325
    value: ["G1", "-G1", "-G1"]
  - type: dm_manual
    atom_i: 10
    atom_j: 5
    offset_j: [0, 0, 0]
    value: [-2.67, 0.0, 0.0]
  - type: heisenberg
    pair: [Cu10, Cu7]
    distance: 3.1325
    value: "J1"
  - type: anisotropic_exchange
    pair: [Cu10, Cu7]
    distance: 3.1325
    value: ["G1", "-G1", "-G1"]
  - type: dm_manual
    atom_i: 10
    atom_j: 7
    offset_j: [0, 0, 0]
    value: [2.67, 0.0, 0.0]
  - type: heisenberg
    pair: [Cu10, Cu13]
    distance: 3.9751
    value: "J2"
  - type: heisenberg
    pair: [Cu10, Cu15]
    distance: 5.2572
    value: "J3"
  - type: heisenberg
    pair: [Cu11, Cu2]
    distance: 3.1325
    value: "J1"
  - type: anisotropic_exchange
    pair: [Cu11, Cu2]
    distance: 3.1325
    value: ["G1", "-G1", "-G1"]
  - type: dm_manual
    atom_i: 11
    atom_j: 2
    offset_j: [0, 0, 0]
    value: [2.67, 0.0, 0.0]
  - type: heisenberg
    pair: [Cu11, Cu12]
    distance: 3.9751
    value: "J2"
  - type: heisenberg
    pair: [Cu11, Cu14]
    distance: 5.2572
    value: "J3"
  - type: heisenberg
    pair: [Cu11, Cu0]
    distance: 3.1325
    value: "J1"
  - type: anisotropic_exchange
    pair: [Cu11, Cu0]
    distance: 3.1325
    value: ["G1", "-G1", "-G1"]
  - type: dm_manual
    atom_i: 11
    atom_j: 0
    offset_j: [0, 1, 0]
    value: [-2.67, 0.0, 0.0]
  - type: heisenberg
    pair: [Cu12, Cu1]
    distance: 3.1325
    value: "J1"
  - type: anisotropic_exchange
    pair: [Cu12, Cu1]
    distance: 3.1325
    value: ["G1", "-G1", "-G1"]
  - type: dm_manual
    atom_i: 12
    atom_j: 1
    offset_j: [0, 0, 0]
    value: [2.67, 0.0, 0.0]
  - type: heisenberg
    pair: [Cu12, Cu3]
    distance: 3.1325
    value: "J1"
  - type: anisotropic_exchange
    pair: [Cu12, Cu3]
    distance: 3.1325
    value: ["G1", "-G1", "-G1"]
  - type: dm_manual
    atom_i: 12
    atom_j: 3
    offset_j: [0, 1, 0]
    value: [-2.67, 0.0, 0.0]
  - type: heisenberg
    pair: [Cu12, Cu9]
    distance: 5.2572
    value: "J3"
  - type: heisenberg
    pair: [Cu12, Cu11]
    distance: 3.9751
    value: "J2"
  - type: heisenberg
    pair: [Cu13, Cu4]
    distance: 3.1325
    value: "J1"
  - type: anisotropic_exchange
    pair: [Cu13, Cu4]
    distance: 3.1325
    value: ["G1", "-G1", "-G1"]
  - type: dm_manual
    atom_i: 13
    atom_j: 4
    offset_j: [0, 0, 0]
    value: [2.67, 0.0, 0.0]
  - type: heisenberg
    pair: [Cu13, Cu6]
    distance: 3.1325
    value: "J1"
  - type: anisotropic_exchange
    pair: [Cu13, Cu6]
    distance: 3.1325
    value: ["G1", "-G1", "-G1"]
  - type: dm_manual
    atom_i: 13
    atom_j: 6
    offset_j: [0, 0, 0]
    value: [-2.67, 0.0, 0.0]
  - type: heisenberg
    pair: [Cu13, Cu8]
    distance: 5.2572
    value: "J3"
  - type: heisenberg
    pair: [Cu13, Cu10]
    distance: 3.9751
    value: "J2"
  - type: heisenberg
    pair: [Cu14, Cu1]
    distance: 3.1325
    value: "J1"
  - type: anisotropic_exchange
    pair: [Cu14, Cu1]
    distance: 3.1325
    value: ["G1", "-G1", "-G1"]
  - type: dm_manual
    atom_i: 14
    atom_j: 1
    offset_j: [0, 0, 0]
    value: [-2.67, 0.0, 0.0]
  - type: heisenberg
    pair: [Cu14, Cu3]
    distance: 3.1325
    value: "J1"
  - type: anisotropic_exchange
    pair: [Cu14, Cu3]
    distance: 3.1325
    value: ["G1", "-G1", "-G1"]
  - type: dm_manual
    atom_i: 14
    atom_j: 3
    offset_j: [0, 0, 1]
    value: [2.67, 0.0, 0.0]
  - type: heisenberg
    pair: [Cu14, Cu11]
    distance: 5.2572
    value: "J3"
  - type: heisenberg
    pair: [Cu14, Cu9]
    distance: 3.9751
    value: "J2"
  - type: heisenberg
    pair: [Cu15, Cu10]
    distance: 5.2572
    value: "J3"
  - type: heisenberg
    pair: [Cu15, Cu6]
    distance: 3.1325
    value: "J1"
  - type: anisotropic_exchange
    pair: [Cu15, Cu6]
    distance: 3.1325
    value: ["G1", "-G1", "-G1"]
  - type: dm_manual
    atom_i: 15
    atom_j: 6
    offset_j: [0, -1, 0]
    value: [2.67, 0.0, 0.0]
  - type: heisenberg
    pair: [Cu15, Cu8]
    distance: 3.9751
    value: "J2"
  - type: heisenberg
    pair: [Cu15, Cu4]
    distance: 3.1325
    value: "J1"
  - type: anisotropic_exchange
    pair: [Cu15, Cu4]
    distance: 3.1325
    value: ["G1", "-G1", "-G1"]
  - type: dm_manual
    atom_i: 15
    atom_j: 4
    offset_j: [0, 0, 1]
    value: [-2.67, 0.0, 0.0]

# 5. Calculation
calculation:
  cache_mode: 'w'
  cache_file_base: "CVO_modern_20T_cache"

# 6. Q-Path (Custom path: (0,1,0) to (0,3,0))
q_path:
  Start: [0, 1, 0]
  End: [0, 3, 0]
  path: ["Start", "End"]
  points_per_segment: 200

# 7. Output
output:
  disp_data_filename: "../../cache/data/CVO_modern_disp_data.npz"
  sqw_data_filename: "../../cache/data/CVO_modern_sqw_data.npz"

# 8. Plotting
plotting:
  save_plot: true
  disp_plot_filename: "../plots/CVO_modern_disp.png"
  sqw_plot_filename: "../plots/CVO_modern_sqw.png"
  energy_limits_disp: [0, 10]
  energy_limits_sqw: [0, 10]
  disp_title: "aCVO Dispersion (Modern Config)"
  sqw_title: "aCVO S(Q,w) (Modern Config)"
  plot_structure: false  # Enable plotting of minimized magnetic structure
  show_plot: false # Set to true to display plots on screen, false to save only

# 9. Tasks
tasks:
  minimization: true
  dispersion: true
  sqw_map: true
